projects:
  land-catalyst:
    repo: git@github.com:your-org/land-catalyst.git
    main_branch: main
    branch_prefix: hank/
    setup:
      - npm ci

base_dir: ~/dev/hank-agents

defaults:
  model: balanced
  cli: claude
  poll_interval: 5
  max_turns: 50
  max_budget_usd: 5
  disallowed_tools:
    - Bash(git push *)
    - Bash(rm -rf *)
    - Bash(curl *)

agents:
  agent-1:
    base_dir: ~/dev/hank-agents/1
    capabilities: [build, db, containers, supabase]
    setup:
      - npx supabase start
  agent-2:
    base_dir: ~/dev/hank-agents/2
    capabilities: [build]
  agent-3:
    base_dir: ~/dev/hank-agents/3
    capabilities: [build]
  agent-4:
    base_dir: ~/dev/hank-agents/4
    capabilities: [build]
  agent-5:
    base_dir: ~/dev/hank-agents/5
    capabilities: [review]

pools:
  planners:
    agents: [agent-2]
  reviewers:
    agents: [agent-5]
  builders:
    agents: [agent-2, agent-3, agent-4]
  testers:
    agents: [agent-1]
    requires: [db, containers]
  code-reviewers:
    agents: [agent-5]
  pr-creators:
    agents: [agent-2]

cli:
  claude:
    command: claude
    args: ["--print"]
    models:
      fast: sonnet
      balanced: sonnet
      powerful: opus
  cursor:
    command: cursor
    models:
      fast: gpt-4o-mini
      balanced: gpt-4o
      powerful: o3

fallback_order: [claude, cursor]

# Input watchers: bash scripts that detect issues and create work items
# These run as subprocesses â€” no LLM tokens burned until a work item enters the pipeline
inputs: []
  # Example: Azure Monitor alert watcher
  # - name: az-alerts
  #   command: "az monitor metrics alert list --resource-group rg-prod -o json | jq -r '.[] | select(.severity < 2) | {title: .name, body: .description}'"
  #   interval: 300          # check every 5 minutes
  #   project: land-catalyst
  #
  # Example: GitHub issue watcher
  # - name: gh-issues
  #   command: "gh issue list --label hank --json title,body --jq '.[] | {title, body}'"
  #   interval: 60
  #   project: land-catalyst
